<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="theme-color" content="#00BE8F"><link rel="manifest" href="/manifest.json?v=2.6.2"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="如果用一个字总结2019年的话，那就是“ 南 ”，“ 南”主要体现在工作事业上面：年初从花生有信离职，随后入职杭州布洛，本以为可以长期在公司效劳，可是年底公司又因为经营问题裁员2&#x2F;3。被裁之后去了阿里巴巴人工智能实验室外包岗，每天都很幸苦，基本属于996的状态，感觉身体有点吃不消，不过还是很有收获（等有空的时候单独写一篇工作总结文章）。                      2018年Flag">
<meta property="og:type" content="article">
<meta property="og:title" content="我的2019年终总结">
<meta property="og:url" content="https://www.bearever.cn/2020/01/18/%E6%88%91%E7%9A%842019%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="罗啰明天">
<meta property="og:description" content="如果用一个字总结2019年的话，那就是“ 南 ”，“ 南”主要体现在工作事业上面：年初从花生有信离职，随后入职杭州布洛，本以为可以长期在公司效劳，可是年底公司又因为经营问题裁员2&#x2F;3。被裁之后去了阿里巴巴人工智能实验室外包岗，每天都很幸苦，基本属于996的状态，感觉身体有点吃不消，不过还是很有收获（等有空的时候单独写一篇工作总结文章）。                      2018年Flag">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://file.2fun.xyz/2020/01/20200722035430143.jpg">
<meta property="og:image" content="https://file.2fun.xyz/review-2018-flag.png">
<meta property="og:image" content="https://file.2fun.xyz/love2d-loverun-shotscreeen.png">
<meta property="og:image" content="https://file.2fun.xyz/drawio20200118x.png">
<meta property="og:image" content="https://file.2fun.xyz/%E6%88%AA%E5%B1%8F2020-01-18%E4%B8%8B%E5%8D%885.13.58.png">
<meta property="og:image" content="https://file.2fun.xyz/31579328672_.pic.jpg">
<meta property="og:image" content="https://file.2fun.xyz/IMG_20190205_002312R.jpg">
<meta property="og:image" content="https://file.2fun.xyz/IMG_20190415_165709R.jpg">
<meta property="og:image" content="https://file.2fun.xyz/21579405877_.pic_hd.jpg">
<meta property="og:image" content="https://file.2fun.xyz/IMG_20190727_111022R.jpg">
<meta property="og:image" content="https://file.2fun.xyz/2ee679cb-9d91-4120-988d-f5c7bb71beb5.jpg">
<meta property="og:image" content="https://file.2fun.xyz/IMG_20191005_141108R.jpg">
<meta property="og:image" content="https://file.2fun.xyz/IMG_20191126_191837R.jpg">
<meta property="og:image" content="https://file.2fun.xyz/11579421574.jpg">
<meta property="og:image" content="https://file.2fun.xyz/%E6%88%AA%E5%B1%8F2020-01-18%E4%B8%8B%E5%8D%883.28.00.png">
<meta property="article:published_time" content="2020-01-18T09:16:00.000Z">
<meta property="article:modified_time" content="2021-03-20T17:22:12.813Z">
<meta property="article:author" content="Bearever">
<meta property="article:tag" content="Android">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://file.2fun.xyz/2020/01/20200722035430143.jpg"><title>我的2019年终总结 | 罗啰明天</title><link ref="canonical" href="https://www.bearever.cn/2020/01/18/%E6%88%91%E7%9A%842019%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">Home</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">Archives</span></a></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">Search</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">罗啰明天</div><div class="header-banner-info__subtitle">不只是技术</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">我的2019年终总结</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2020-01-18</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2021-03-21</span></span></div></header><div class="post-body"><p>如果用一个字总结2019年的话，那就是“ <strong>南</strong> ”，“ <strong>南</strong><br>”主要体现在工作事业上面：年初从花生有信离职，随后入职杭州布洛，本以为可以长期在公司效劳，可是年底公司又因为经营问题裁员2/3。被裁之后去了阿里巴巴人工智能实验室外包岗，每天都很幸苦，基本属于996的状态，感觉身体有点吃不消，不过还是很有收获（等有空的时候单独写一篇工作总结文章）。</p>
<p><img src="https://file.2fun.xyz/2020/01/20200722035430143.jpg" alt="南"></p>

        <h2 id="2018年Flag"   >
          <a href="#2018年Flag" class="heading-link"><i class="fas fa-link"></i></a><a href="#2018年Flag" class="headerlink" title="2018年Flag"></a>2018年Flag</h2>
      <p>写2019年总结的时候，特意翻看了一下<a href="https://www.bearever.cn/story/2018summary/">2018年的总结</a>，心想，可别又成了一个失信于己/于人的人，在2018年的总结里面立的Flag是在2019年制作一款独立游戏。<br><img src="https://file.2fun.xyz/review-2018-flag.png" alt="2018年立的Flag">9月份参加 <strong>机核</strong><br>的独立游戏大赛，制作了一款Love2D平台的小游戏，也算是实现了Flag。在这里，非常感谢“阿廖”和“大超”放弃国庆假期来帮助开发，还有中间给予帮助的学妹“亦嘉”和女汉子“朝怡”。虽然游戏最后没有获奖，但是3天极限开发，一边写代码一边画图的过程还是很充实（累成狗）。</p>
<span id="more"></span>


<p><img src="https://file.2fun.xyz/love2d-loverun-shotscreeen.png" alt="小游戏的截图"></p>

        <h2 id="2019年总结"   >
          <a href="#2019年总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#2019年总结" class="headerlink" title="2019年总结"></a>2019年总结</h2>
      <p>2018年的总结是按照时间线排的，2019年准备换一个思路。前段时候看梁爽同事的方法挺好，也想尝试一下，总结分为四个部分：专业技能、个人成长、兴趣爱好和月事记。</p>

        <h2 id="专业技能"   >
          <a href="#专业技能" class="heading-link"><i class="fas fa-link"></i></a><a href="#专业技能" class="headerlink" title="专业技能"></a>专业技能</h2>
      <p>2019年，专业技能方面有明显的提升，不局限于安卓，主要有以下几块：</p>
<blockquote>
<ul>
<li>安卓</li>
<li>Python</li>
<li>C/C++（厚颜无耻的写上去）</li>
</ul>
</blockquote>

        <h3 id="安卓"   >
          <a href="#安卓" class="heading-link"><i class="fas fa-link"></i></a><a href="#安卓" class="headerlink" title="安卓"></a>安卓</h3>
      <p>所谓“你知道的越多，你不知道的越多”，做安卓开发一年的时候，我觉得自己到了尽头，好像什么页面都能写，什么动画都能画，工作上的需求都能完成，似乎没有什么能难倒我的了。想想那时的自己，真的是“Too<br>Young Too Simple”。今年自己安卓方面的提升，主要有以下几块：</p>
<blockquote>
<ul>
<li>模块化</li>
<li>库设计</li>
<li>团队协作</li>
</ul>
</blockquote>

        <h4 id="模块化"   >
          <a href="#模块化" class="heading-link"><i class="fas fa-link"></i></a><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h4>
      <p>安卓应用开发，随着业务的发展，最后项目变得十分巨大，单人项目变成了多人项目，就需要模块化了。在杭州布洛的时候对于模块化略有研究，主要的方案是通过抽象一个底层核心库，抽离业务，然后实现一个应用基础库，让不同的业务引用业务库，通过路由进行通信，实现模块化。当项目数量增加的时候，仓库的重要性就体现出来了，对业务库进行封装，上传仓库，其他项目组即可方便的使用，减少开发时间。</p>
<p><img src="https://file.2fun.xyz/drawio20200118x.png" alt="模块化设计"></p>

        <h4 id="库设计"   >
          <a href="#库设计" class="heading-link"><i class="fas fa-link"></i></a><a href="#库设计" class="headerlink" title="库设计"></a>库设计</h4>
      <p>在杭州布洛的时候设计了很多库方便同事使用，例如“权限库”、“异步链式库”和“IM库”。在进行库设计的时候，遵循了先设计后编码的流程，使用Markdown编写库设计文档，然后和同事商量改进点，最后进行编码。这样可以提高库的实用性和规范化，对于设计模式的使用也会更有经验。</p>

        <h4 id="团队协作"   >
          <a href="#团队协作" class="heading-link"><i class="fas fa-link"></i></a><a href="#团队协作" class="headerlink" title="团队协作"></a>团队协作</h4>
      <p>小公司喜欢全栈工程师，一人包揽所有的活，当公司达到一定的规模的时候，团队协作就十分有必要了。对于安卓来说，多人协作主要是：<br><strong>代码管理、环境统一和功能复用</strong><br>。其中代码管理通过Git/SVN可以解决，如果希望更加规范的化，可以加入代码Review的设计进去。环境统一是多人协作的一个重点，开发人员众多，我们在引用其他库的时候，肯定不希望与自己现有的功能冲突，所以就需要解决统一环境，包括SDK版本、依赖库版本、项目配置等信息。功能复用的核心是业务的抽离，对于程序员的要求主要体现在颗粒度的把握，如果模块化做的足够的好，功能复用也就可以变得很简单。</p>

        <h3 id="Python"   >
          <a href="#Python" class="heading-link"><i class="fas fa-link"></i></a><a href="#Python" class="headerlink" title="Python"></a>Python</h3>
      <p>本年度Python脚本写的较多，对于Python算是有一点儿了解了，已经可以比较熟练的使用Python编写脚本处理日常任务，还能用Python开发带有GUI的工具，提高业务处理效率。不过对于Python进行网络处理这一块还是不熟，应用的比较少。</p>

        <h3 id="C-C"   >
          <a href="#C-C" class="heading-link"><i class="fas fa-link"></i></a><a href="#C-C" class="headerlink" title="C/C++"></a>C/C++</h3>
      <p>2019年底在阿里做了一点嵌入式开发的工作，需要使用C/C++进行开发。刚接触的时候也是一头雾水，完全不知道从哪里入手，光是编译一个Hello World<br>就很折腾。后来找系统团队发了一点Demo，学着写写，目前嵌入式开发的流程基本明白了：先在PC上面用C/C++开发应用，使用嵌入式设备的开发工具包打包成可执行文件，再拷贝到嵌入式设备里面，运行可执行文件。里面涉及的技术点主要有：C/C++、CMake和Linux等。</p>

        <h2 id="个人成长"   >
          <a href="#个人成长" class="heading-link"><i class="fas fa-link"></i></a><a href="#个人成长" class="headerlink" title="个人成长"></a>个人成长</h2>
      <p>个人成长方面，主要是读书和博客更新。</p>

        <h3 id="读书情况"   >
          <a href="#读书情况" class="heading-link"><i class="fas fa-link"></i></a><a href="#读书情况" class="headerlink" title="读书情况"></a>读书情况</h3>
      <p>今年，一共读了6本书，分别是《Android艺术探索》、《Android<br>Gradle权威指南》、《流浪地球》、《人间失格》、《三体Ⅰ》和《三体Ⅱ》。对我影响较大的是《人间失格》和《三体》，一小一大，不同的视野，不同的感受。</p>
<p><img src="https://file.2fun.xyz/%E6%88%AA%E5%B1%8F2020-01-18%E4%B8%8B%E5%8D%885.13.58.png"></p>
<p><strong>人间失格</strong></p>
<p>《人间失格》讲述了一个自卑、自弃的人的悲惨一生。放正常人的眼中，他其实是一个幸运儿，有一个好的出生家庭，有众多异性的喜爱。但是他小心翼翼的经营着自己，免得惹怒别人。看完之后感觉自己很幸运，至少对世间和未来充满希望。</p>
<p><strong>三体</strong></p>
<p>《三体》描绘了一个十分宏大的世界，用近乎历朴实的语言讲述了一个非常震撼的故事，从文化大革命时期一直到四百年后的未来。一直听别人说《三体》多么多么牛逼，直到自己亲眼所见整个故事，才觉得这不仅仅是牛逼能形容的。宇宙一百多亿的时间里面，人类的出现是偶然还是必然，为什么到现在仍然没有发现其他文明，大危机爆发时人类如何选择？如果你对这些问题感兴趣，强烈推荐你看看《三体》。</p>

        <h3 id="维护博客"   >
          <a href="#维护博客" class="heading-link"><i class="fas fa-link"></i></a><a href="#维护博客" class="headerlink" title="维护博客"></a>维护博客</h3>
      <p>本年度一共更新了9篇博客，整体质量较低。主要原因是在公司也经常写博客，所以就不想再回家继续写了，来年需要改进。</p>

        <h2 id="兴趣爱好"   >
          <a href="#兴趣爱好" class="heading-link"><i class="fas fa-link"></i></a><a href="#兴趣爱好" class="headerlink" title="兴趣爱好"></a>兴趣爱好</h2>
      <p>兴趣爱好方面，基本上属于退步阶段，之前还会偶尔玩下滑板，2019年碰都没有碰一下，2020年希望还是能够捡起来玩玩。</p>

        <h3 id="Vlog"   >
          <a href="#Vlog" class="heading-link"><i class="fas fa-link"></i></a><a href="#Vlog" class="headerlink" title="Vlog"></a>Vlog</h3>
      <p>都说大疆的 <strong>OSMO Action</strong><br>是拍摄Vlog的神器，双十一的时候我也买了一个，结果一直等到双十二所有的东西才发货完成（大疆的客服真的很差）。但是不得不说Action真的很强，4K/30FPS还可以防抖，加上前置屏幕，使用非常方便。</p>
<p><img src="https://file.2fun.xyz/31579328672_.pic.jpg"></p>

        <h3 id="【机核】游戏大赛"   >
          <a href="#【机核】游戏大赛" class="heading-link"><i class="fas fa-link"></i></a><a href="#【机核】游戏大赛" class="headerlink" title="【机核】游戏大赛"></a>【机核】游戏大赛</h3>
      <p>十月份的时候参加了机核主办的游戏创作大赛“BOOOM”，因为前面有提到，这里就不详细写了。</p>

        <h2 id="月事记"   >
          <a href="#月事记" class="heading-link"><i class="fas fa-link"></i></a><a href="#月事记" class="headerlink" title="月事记"></a>月事记</h2>
      <p>每个月最重要的事情，主要是下面的这些：</p>
<ul>
<li>2月 过年回家，大年初一看《流浪地球》</li>
</ul>
<p><img src="https://file.2fun.xyz/IMG_20190205_002312R.jpg"></p>
<ul>
<li>4月 入职“杭州布洛科技有限公司”</li>
</ul>
<p><img src="https://file.2fun.xyz/IMG_20190415_165709R.jpg"></p>
<ul>
<li>5月 游览杭州国际动漫节；宇哥生日一起玩桌游</li>
</ul>
<p><img src="https://file.2fun.xyz/21579405877_.pic_hd.jpg"></p>
<ul>
<li>7月 公司团建，一起吃日料</li>
</ul>
<p><img src="https://file.2fun.xyz/IMG_20190727_111022R.jpg"></p>
<ul>
<li>9月 参加【机核】游戏大赛；参观丹姐家的豪宅</li>
</ul>
<p><img src="https://file.2fun.xyz/2ee679cb-9d91-4120-988d-f5c7bb71beb5.jpg"></p>
<ul>
<li>10月 国庆节去绍兴游玩</li>
</ul>
<p><img src="https://file.2fun.xyz/IMG_20191005_141108R.jpg"></p>
<ul>
<li>11月 因公司经营问题被裁员；入职阿里人工智能实验室外包岗</li>
</ul>
<p><img src="https://file.2fun.xyz/IMG_20191126_191837R.jpg"></p>
<ul>
<li>12月 梁爽生日，吃“冬阴功火锅”</li>
</ul>
<p><img src="https://file.2fun.xyz/11579421574.jpg"></p>

        <h2 id="2020年的Flag"   >
          <a href="#2020年的Flag" class="heading-link"><i class="fas fa-link"></i></a><a href="#2020年的Flag" class="headerlink" title="2020年的Flag"></a>2020年的Flag</h2>
      <p>一年的结束也就意味着新的一年的到来，这既是总结，也是一个计划，把2020年的Flag立下来，看看明年能有多少收获。</p>
<p><img src="https://file.2fun.xyz/%E6%88%AA%E5%B1%8F2020-01-18%E4%B8%8B%E5%8D%883.28.00.png"></p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ END ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">Author: </span><span class="copyright-author__value"><a href="https://www.bearever.cn">Bearever</a></span></div><div class="copyright-link"><span class="copyright-link__name">Link: </span><span class="copyright-link__value"><a href="https://www.bearever.cn/2020/01/18/%E6%88%91%E7%9A%842019%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/">https://www.bearever.cn/2020/01/18/%E6%88%91%E7%9A%842019%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">Copyright: </span><span class="copyright-notice__value">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> unless stating additionally</span></div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2020/02/13/%E4%BF%9D%E6%8C%81%E6%95%AC%E7%95%8F/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">保持敬畏</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2019/08/23/Gradle%E7%BC%93%E5%AD%98%E6%9B%B4%E6%96%B0/"><span class="paginator-prev__text">Gradle缓存更新</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">Catalog</span><span class="sidebar-nav-ov">Overview</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2018%E5%B9%B4Flag"><span class="toc-number">1.</span> <span class="toc-text">
          2018年Flag</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2019%E5%B9%B4%E6%80%BB%E7%BB%93"><span class="toc-number">2.</span> <span class="toc-text">
          2019年总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%93%E4%B8%9A%E6%8A%80%E8%83%BD"><span class="toc-number">3.</span> <span class="toc-text">
          专业技能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%8D%93"><span class="toc-number">3.1.</span> <span class="toc-text">
          安卓</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">3.1.1.</span> <span class="toc-text">
          模块化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">3.1.2.</span> <span class="toc-text">
          库设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C"><span class="toc-number">3.1.3.</span> <span class="toc-text">
          团队协作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python"><span class="toc-number">3.2.</span> <span class="toc-text">
          Python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-C"><span class="toc-number">3.3.</span> <span class="toc-text">
          C&#x2F;C++</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E6%88%90%E9%95%BF"><span class="toc-number">4.</span> <span class="toc-text">
          个人成长</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E4%B9%A6%E6%83%85%E5%86%B5"><span class="toc-number">4.1.</span> <span class="toc-text">
          读书情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%B4%E6%8A%A4%E5%8D%9A%E5%AE%A2"><span class="toc-number">4.2.</span> <span class="toc-text">
          维护博客</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD"><span class="toc-number">5.</span> <span class="toc-text">
          兴趣爱好</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vlog"><span class="toc-number">5.1.</span> <span class="toc-text">
          Vlog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%80%90%E6%9C%BA%E6%A0%B8%E3%80%91%E6%B8%B8%E6%88%8F%E5%A4%A7%E8%B5%9B"><span class="toc-number">5.2.</span> <span class="toc-text">
          【机核】游戏大赛</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%88%E4%BA%8B%E8%AE%B0"><span class="toc-number">6.</span> <span class="toc-text">
          月事记</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2020%E5%B9%B4%E7%9A%84Flag"><span class="toc-number">7.</span> <span class="toc-text">
          2020年的Flag</span></a></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="https://file.2fun.xyz/2021%2F03%2FIMG_0867_AVATAR-2.JPG" alt="avatar"></div><p class="sidebar-ov-author__text">Bearever</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">75</div><div class="sidebar-ov-state-item__name">Archives</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">You have read </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Bearever</span><span class="footer__devider">|</span><span><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn">浙ICP备17002285号-2</a></span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="Search for Posts (Support multiple keywords)"></div><div class="search-results"></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script>function initSearch() {
  var isXML = true;
  var search_path = 'search.xml';

  if (!search_path) {
    search_path = 'search.xml';
  } else if (/json$/i.test(search_path)) {
    isXML = false;
  }

  var path = '/' + search_path;
  $.ajax({
    url: path,
    dataType: isXML ? 'xml' : 'json',
    async: true,
    success: function (res) {
      var datas = isXML ? $('entry', res).map(function () {
        // 将 XML 转为 JSON
        return {
          title: $('title', this).text(),
          content: $('content', this).text(),
          url: $('url', this).text()
        };
      }).get() : res;
      var $input = $('.search-input input');
      var $result = $('.search-results');
      // 搜索对象（标题、内容）的权重，影响显示顺序
      var WEIGHT = { title: 100, content: 1 };
      var searchPost = function () {
        var searchText = $input.val().toLowerCase().trim();
        // 根据空白字符分隔关键字
        var keywords = searchText.split(/[\s]+/);
        // 搜索结果
        var matchPosts = [];

        // 有多个关键字时，将原文字整个保存下来
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        // 防止未输入字符时搜索
        if (searchText.length > 0) {
          datas.forEach(function (data) {
            var isMatch  = false;
            // 没有标题的文章使用预设的 i18n 变量代替
            var title = (data.title && data.title.trim()) || '[ Untitled ]';
            var titleLower = title && title.toLowerCase();
            // 删除 HTML 标签 和 所有空白字符
            var content = data.content && data.content.replace(/<[^>]+>/g, '');
            var contentLower = content && content.toLowerCase();
            // 删除重复的 /
            var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
            // 标题中匹配到的关键词
            var titleHitSlice = [];
            // 内容中匹配到的关键词
            var contentHitSlice = [];

            keywords.forEach(function (keyword) {
              /**
              * 获取匹配的关键词的索引
              * @param {String} keyword 要匹配的关键字
              * @param {String} text 原文字
              * @param {Boolean} caseSensitive 是否区分大小写
              * @param {Number} weight 匹配对象的权重。权重大的优先显示
              * @return {Array}
              */
              function getIndexByword (word, text, caseSensitive, weight) {
                if (!word || !text) {
                  return [];
                };

                var startIndex = 0; // 每次匹配的开始索引
                var index = -1;     // 匹配到的索引值
                var result = [];    // 匹配结果

                if (!caseSensitive) {
                  word = word.toLowerCase();
                  text = text.toLowerCase();
                }

                while((index = text.indexOf(word, startIndex)) !== -1) {
                  var hasMatch = false;
                  // 索引位置相同的关键词，保留长度较长的
                  titleHitSlice.forEach(function (hit) {
                    if (hit.index === index && hit.word.length < word.length) {
                      hit.word = word;
                      hasMatch = true;
                    }
                  });
                  startIndex = index + word.length;
                  !hasMatch && result.push({ index: index, word: word, weight: weight });
                }
                return result;
              }
              titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
              contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
            });

            var hitTitle = titleHitSlice.length;
            var hitContent = contentHitSlice.length;

            if (hitTitle > 0 || hitContent > 0) {
              isMatch = true;
            }
            if (isMatch) {
              ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                // 按照匹配文字的索引的递增顺序排序
                hit.sort(function (left, right) {
                  return left.index - right.index;
                });
              });
              /**
              * 给文本中匹配到的关键词添加标记，从而进行高亮显示
              * @param {String} text 原文本
              * @param {Array} hitSlice 匹配项的索引信息
              * @param {Number} start 开始索引
              * @param {Number} end 结束索引
              * @return {String}
              */
              function highlightKeyword (text, hitSlice, start, end) {
                if (!text || !hitSlice || !hitSlice.length) {
                  return;
                }

                var result = '';
                var startIndex = start;
                var endIndex = end;
                hitSlice.forEach(function (hit) {
                  if (hit.index < startIndex) {
                    return;
                  }

                  var hitWordEnd = hit.index + hit.word.length;
                  result += text.slice(startIndex, hit.index);
                  result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                  startIndex = hitWordEnd;
                });
                result += text.slice(startIndex, endIndex);
                return result;
              }

              var postData = {};
              // 文章总的搜索权重
              var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
              // 标记匹配关键词后的标题
              var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
              // 标记匹配关键词后的内容
              var postContent;
              // 显示内容的长度
              var SHOW_WORD_LENGTH = 200;
              // 命中关键词前的字符显示长度
              var SHOW_WORD_FRONT_LENGTH = 20;
              var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

              // 截取匹配的第一个字符，前后共 200 个字符来显示
              if (contentHitSlice.length > 0) {
                var firstIndex = contentHitSlice[0].index;
                var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                var end = firstIndex + SHOW_WORD_END_LENGTH;
                postContent = highlightKeyword(content, contentHitSlice, start, end);
              } else { // 未匹配到内容，直接截取前 200 个字符来显示
                postContent = content.slice(0, SHOW_WORD_LENGTH);
              }
              postData.title = postTitle;
              postData.content = postContent;
              postData.url = postURL;
              postData.weight = postWeight;
              matchPosts.push(postData);
            }
          });
        }

        var resultInnerHtml = '';
        if (matchPosts.length) {
          // 按权重递增的顺序排序，使权重大的优先显示
          matchPosts.sort(function (left, right) {
            return right.weight - left.weight;
          });
          resultInnerHtml += '<ul>';
          matchPosts.forEach(function (post) {
            resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
            resultInnerHtml += post.title;
            resultInnerHtml += '</a><div class="search-results-content">';
            resultInnerHtml += post.content;
            resultInnerHtml += '</div></li>';
          });
          resultInnerHtml += '</ul>';
        } else {
          resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
        }
        $result.html(resultInnerHtml);
      };
      $input.on('input', searchPost);
      $input.on('keyup', function (e) {
        if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
          searchPost();
        }
      });
    }
  });
}

function closeSearch () {
  $('body').css({ overflow: 'auto' });
  $('.search-popup').css({ display: 'none' });
  $('.search-mask').css({ display: 'none' });
}

window.addEventListener('DOMContentLoaded', function () {
  Stun.utils.pjaxReloadLocalSearch = function () {
    $('.header-nav-search').on('click', function (e) {
      e.stopPropagation();
      $('body').css('overflow', 'hidden');
      $('.search-popup')
        .velocity('stop')
        .velocity('transition.expandIn', {
          duration: 300,
          complete: function () {
            $('.search-popup input').focus();
          }
        });
      $('.search-mask')
        .velocity('stop')
        .velocity('transition.fadeIn', {
          duration: 300
        });

      initSearch();
    });
    $('.search-mask, .search-close').on('click', function () {
      closeSearch();
    });
    $(document).on('keydown', function (e) {
      // Escape <=> 27
      if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
        closeSearch();
      }
    });
  };

  Stun.utils.pjaxReloadLocalSearch();
}, false);

function safeOpenUrl(url) {
  var newTab = window.open();
  newTab.opener = null;
  newTab.location = url;
}

function extSearch(engine) {
  var engines = {
    google: 'https://www.google.com/search?q=',
    bing: 'https://cn.bing.com/search?q=',
    baidu: 'https://www.baidu.com/s?ie=UTF-8&wd=',
  };
  var host = window.location.host;
  var query = $('.search-input input').val().toLowerCase().trim();
  var uri = engines[engine] + query + ' site:' + host;

  if (query) {
    safeOpenUrl(uri);
  } else {
    Stun.utils.popAlert('warning', 'Please enter characters');
  }
}

var assistSearchList = window.CONFIG.assistSearch;

if (Array.isArray(assistSearchList)) {
  assistSearchList.forEach(function (name) {
    document.querySelector('.search-btns-item--' + name).addEventListener('click', function () {
      extSearch(name);
    }, false);
  });
}</script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script><script type="application/json" src="/search.xml"></script></body></html>